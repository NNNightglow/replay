# ğŸ“‹ è‚¡ç¥¨åˆ†æç³»ç»Ÿ - é¡¹ç›®åŠŸèƒ½æ¸…å• (é‡æ„ä¼˜åŒ–ç‰ˆ)

> **æœ€åæ›´æ–°**: 2025-11-02
> **ç‰ˆæœ¬**: v1.0 (æ¶æ„é‡æ„ä¼˜åŒ–ç‰ˆ)
> **çŠ¶æ€**: ğŸŸ¢ ç”Ÿäº§å°±ç»ª


## ğŸ“ é¡¹ç›®ç»“æ„æ¦‚è§ˆ

```
replay/
â”œâ”€â”€ ğŸ“ frontend/                    # Vue.jså‰ç«¯
â”‚   â”œâ”€â”€ ğŸ“ src/
â”‚   â”‚   â”œâ”€â”€ ğŸ“ views/              # é¡µé¢ç»„ä»¶ (11ä¸ªé¡µé¢)
â”‚   â”‚   â”‚   â”œâ”€â”€ ğŸ“„ MarketSentiment.vue     # å¸‚åœºæƒ…ç»ªåˆ†æ
â”‚   â”‚   â”‚   â”œâ”€â”€ ğŸ“„ SectorAnalysis.vue      # æ¿å—åˆ†æ
â”‚   â”‚   â”‚   â”œâ”€â”€ ğŸ“„ IndexAnalysis.vue       # æŒ‡æ•°åˆ†æ
â”‚   â”‚   â”‚   â”œâ”€â”€ ğŸ“„ NewHighStocks.vue       # æ–°é«˜è‚¡ç¥¨
â”‚   â”‚   â”‚   â”œâ”€â”€ ğŸ“„ HeimaAnalysis.vue       # é»‘é©¬åˆ†æ
â”‚   â”‚   â”‚   â”œâ”€â”€ ğŸ“„ BaimaAnalysis.vue       # ç™½é©¬åˆ†æ
â”‚   â”‚   â”‚   â”œâ”€â”€ ğŸ“„ MoneyEffect.vue         # èµšé’±æ•ˆåº”
â”‚   â”‚   â”‚   â”œâ”€â”€ ğŸ“„ ChartTest.vue           # å›¾è¡¨æµ‹è¯•
â”‚   â”‚   â”‚   â”œâ”€â”€ ğŸ“„ TestChart.vue           # æµ‹è¯•å›¾è¡¨
â”‚   â”‚   â”‚   â”œâ”€â”€ ğŸ“„ SimpleChartTest.vue     # ç®€å•å›¾è¡¨æµ‹è¯•
â”‚   â”‚   â”‚   â””â”€â”€ ğŸ“„ TestTradingDatePicker.vue # äº¤æ˜“æ—¥æœŸé€‰æ‹©å™¨æµ‹è¯•
â”‚   â”‚   â”œâ”€â”€ ğŸ“ components/         # é€šç”¨ç»„ä»¶
â”‚   â”‚   â”‚   â”œâ”€â”€ ğŸ“„ EChartsRenderer.vue     # å›¾è¡¨æ¸²æŸ“ç»„ä»¶
â”‚   â”‚   â”‚   â””â”€â”€ ğŸ“„ TradingDatePicker.vue   # äº¤æ˜“æ—¥æœŸé€‰æ‹©å™¨
â”‚   â”‚   â”œâ”€â”€ ğŸ“ services/           # æœåŠ¡å±‚
â”‚   â”‚   â”‚   â””â”€â”€ ğŸ“„ api.js          # APIæœåŠ¡ç±» (25ä¸ªæ–¹æ³•)
â”‚   â”‚   â”œâ”€â”€ ğŸ“ router/             # è·¯ç”±é…ç½®
â”‚   â”‚   â”‚   â””â”€â”€ ğŸ“„ index.js        # è·¯ç”±å®šä¹‰ (8ä¸ªè·¯ç”±)
â”‚   â”‚   â”œâ”€â”€ ğŸ“„ App.vue             # æ ¹ç»„ä»¶
â”‚   â”‚   â””â”€â”€ ğŸ“„ main.js             # åº”ç”¨å…¥å£æ–‡ä»¶
â”‚   â”œâ”€â”€ ğŸ“ public/                 # é™æ€èµ„æº
â”‚   â”‚   â””â”€â”€ ğŸ“„ index.html          # HTMLæ¨¡æ¿
â”‚   â”œâ”€â”€ ğŸ“„ package.json            # Node.jsä¾èµ–
â”‚   â””â”€â”€ ğŸ“„ vue.config.js           # Vueé…ç½®
â”œâ”€â”€ ğŸ“ utils/                       # æ ¸å¿ƒå·¥å…·æ¨¡å—
â”‚   â”œâ”€â”€ ğŸ“ metadata/                # æ•°æ®ç®¡ç†å™¨
â”‚   â”‚   â”œâ”€â”€ ğŸ“„ stock_data_manager.py      # è‚¡ç¥¨å…ƒæ•°æ®ç®¡ç†
â”‚   â”‚   â”œâ”€â”€ ğŸ“„ index_data_manager.py      # æŒ‡æ•°å…ƒæ•°æ®ç®¡ç†
â”‚   â”‚   â”œâ”€â”€ ğŸ“„ market_data_manager.py     # å¸‚åœºå…ƒæ•°æ®ç®¡ç†
â”‚   â”‚   â”œâ”€â”€ ğŸ“„ sector_data_manager.py     # æ¿å—æ•°æ®ç®¡ç†
â”‚   â”‚   â””â”€â”€ ğŸ“„ data_processor.py          # æ•°æ®å¤„ç†å™¨
â”‚   â”œâ”€â”€ ğŸ“ visualizers/             # å¯è§†åŒ–ç»„ä»¶
â”‚   â”‚   â”œâ”€â”€ ğŸ“„ common.py                  # é€šç”¨å¯è§†åŒ–ç»„ä»¶
â”‚   â”‚   â”œâ”€â”€ ğŸ“„ stock_visualizer.py        # è‚¡ç¥¨å¯è§†åŒ–
â”‚   â”‚   â”œâ”€â”€ ğŸ“„ index_visualizer.py        # æŒ‡æ•°å¯è§†åŒ–
â”‚   â”‚   â”œâ”€â”€ ğŸ“„ sector_visualizer.py       # æ¿å—å¯è§†åŒ–
â”‚   â”‚   â”œâ”€â”€ ğŸ“„ market_visualizer.py       # å¸‚åœºå¯è§†åŒ–
â”‚   â”‚   â””â”€â”€ ğŸ“„ model_visualizer.py        # æ¨¡å‹å¯è§†åŒ–
â”‚   â”œâ”€â”€ ğŸ“„ data_fetcher.py          # æ•°æ®è·å–æ ¸å¿ƒ
â”‚   â”œâ”€â”€ ğŸ“„ analyzer.py              # å¸‚åœºåˆ†ææ ¸å¿ƒ
â”‚   â”œâ”€â”€ ğŸ“„ visualizer_manager.py    # å¯è§†åŒ–ç®¡ç†å™¨
â”‚   â”œâ”€â”€ ğŸ“„ data_cache.py            # æ•°æ®ç¼“å­˜
â”‚   â”œâ”€â”€ ğŸ“„ holiday_utils.py         # èŠ‚å‡æ—¥å·¥å…·
â”‚   â””â”€â”€ ğŸ“„ data_fetcher_backup.py   # æ•°æ®è·å–å¤‡ä»½
â”œâ”€â”€ ğŸ“ data_cache/                  # æ•°æ®ç¼“å­˜ç›®å½•
â”‚   â”œâ”€â”€ ğŸ“ indices/                 # æŒ‡æ•°æ•°æ®
â”‚   â”œâ”€â”€ ğŸ“ sectors/                 # æ¿å—æ•°æ®
â”‚   â”œâ”€â”€ ğŸ“ stock_daily/             # è‚¡ç¥¨æ—¥çº¿æ•°æ®
â”‚   â”œâ”€â”€ ğŸ“ stock_minute/            # è‚¡ç¥¨åˆ†é’Ÿæ•°æ®
â”‚   â””â”€â”€ ğŸ“ other/                   # å…¶ä»–æ•°æ®
â”œâ”€â”€ ğŸ“ test/                        # æµ‹è¯•æ–‡ä»¶ (25ä¸ªæµ‹è¯•æ–‡ä»¶)
â”œâ”€â”€ ğŸ“ backend/                     # åç«¯æ¨¡æ¿
â”‚   â””â”€â”€ ğŸ“ templates/               # æ¨¡æ¿æ–‡ä»¶
â”œâ”€â”€ ğŸ“„ flask_app.py                 # Flaskåç«¯ä¸»æ–‡ä»¶ (33ä¸ªAPIç«¯ç‚¹)
â”œâ”€â”€ ğŸ“„ stock_data_enhancer_final.py # è‚¡ç¥¨æ•°æ®å¢å¼ºå™¨
â”œâ”€â”€ ğŸ“„ start_system.bat             # ä¸€é”®å¯åŠ¨è„šæœ¬
â”œâ”€â”€ ğŸ“„ requirements.txt             # Pythonä¾èµ–
â””â”€â”€ ğŸ“„ é¡¹ç›®åŠŸèƒ½æ¸…å•.md              # æœ¬æ–‡æ¡£
```

## ğŸ”§ æ ¸å¿ƒå·¥å…·æ¨¡å— (utils/)

### ğŸ“„ data_fetcher.py - æ•°æ®è·å–æ ¸å¿ƒç±»
```python
class DataFetcher:
    """æ•°æ®è·å–å’Œç®¡ç†çš„æ ¸å¿ƒç±»"""
    
    # åˆå§‹åŒ–æ–¹æ³•
    def __init__(self)                                    # åˆå§‹åŒ–æ•°æ®è·å–å™¨
    def check_and_update_metadata(progress_callback=None) # æ£€æŸ¥å¹¶æ›´æ–°æ‰€æœ‰å…ƒæ•°æ®
    
    # å¸‚åœºæƒ…ç»ªæ•°æ®
    def get_market_sentiment(date=None)                   # è·å–å¸‚åœºæƒ…ç»ªæŒ‡æ ‡
    
    # æ¿å—æ•°æ®ç›¸å…³
    def get_combined_sectors_summary(date_str=None, include_sectors=True, include_concepts=True, days_back=30)
    def get_sectors_custom_period(start_date, end_date, include_sectors=True, include_concepts=True)
    def get_sector_kline_data(sector_name, days_back=30, target_date=None)

    # å…ƒæ•°æ®ç®¡ç†å™¨å®ä¾‹
    self.cache                                           # DataCacheå®ä¾‹
    self.stock_metadata_manager                          # StockMetadataManagerå®ä¾‹
    self.index_metadata_manager                          # IndexMetadataManagerå®ä¾‹  
    self.market_metadata_manager                         # MarketMetadataManagerå®ä¾‹
    self.sector_data_manager                            # SectorDataManagerå®ä¾‹

class LocalFileDataFetcher:
    """æœ¬åœ°æ–‡ä»¶æ•°æ®è·å–å™¨"""
    def __init__(data_dir)
    def _is_bond_code(stock_code)
    def _get_available_stocks()
    def _read_stock_data(stock_code)
    def get_index_data(start_date, end_date=None)
    def get_market_sentiment(date=None)
    def fetch_stock_details(date=None)
    def get_sector_data()

# å·¥å…·å‡½æ•°
def safe_write_parquet(df, file_path, max_retries=3)     # å®‰å…¨å†™å…¥parquetæ–‡ä»¶
def create_data_fetcher(use_local_file=False, local_file_path="...")  # åˆ›å»ºæ•°æ®è·å–å™¨
```

### ğŸ“„ analyzer.py - å¸‚åœºåˆ†ææ ¸å¿ƒç±» (28ä¸ªé™æ€æ–¹æ³•)
```python
class MarketAnalyzer:
    """å¸‚åœºåˆ†æåŠŸèƒ½é›†åˆ"""
    
    # å¸‚åœºæƒ…ç»ªåˆ†æ
    @staticmethod
    def analyze_market_sentiment(sentiment_data, previous_data=None)
    @staticmethod
    def analyze_market_history(market_data, days=30)
    @staticmethod
    def analyze_limit_up_history(limit_up_data, days=30)
    
    # æ¿å—åˆ†æ
    @staticmethod
    def analyze_sectors(sector_data)
    @staticmethod
    def analyze_concepts(concept_data)
    @staticmethod
    def analyze_concept_status(concept_pl, market_states)
    @staticmethod
    def analyze_limit_up_details(sentiment_data)
    
    # è‚¡ç¥¨æ¨¡å‹åˆ†æ
    @staticmethod
    def analyze_model_one_stocks(previous_limit_up_data, stock_details)
    @staticmethod
    def _has_upper_shadow(data)
    @staticmethod
    def _is_multi_pump(data)
    @staticmethod
    def _has_previous_multi_limit_up(data)
    @staticmethod
    def _is_high_position(data)
    @staticmethod
    def _is_zhihuji_pattern(data)
    
    # æ–°é«˜è‚¡åˆ†æ
    @staticmethod
    def analyze_new_high_stocks(market_states_data, days=5, selected_date=None, exclude_st=True, include_non_main_board=False)
    @staticmethod
    def analyze_continuous_limit_up(limit_up_data)
    
    # åŒ—äº¤æ‰€å¾®ç›˜è‚¡åˆ†æ
    @staticmethod
    def get_beijing_microcap_analysis(date_str)
    @staticmethod
    def _get_sentiment_status(change_pct, is_microcap=False)
    @staticmethod
    def get_trading_strategy(beijing_data)
    
    # æŒ‡æ•°åˆ†æ
    @staticmethod
    def get_multi_index_kline_data(selected_indices, date_str, days_range)
    @staticmethod
    def get_available_indices()
    @staticmethod
    def get_index_data(index_name, date_str, days_range=180)
    
    # å¼ºåŠ¿è‚¡åˆ†æ
    @staticmethod
    def analyze_heima_stocks(market_states_data, date=None, exclude_st=True, include_non_main_board=False)
    @staticmethod
    def analyze_baima_stocks(market_states_data, intervals=None, min_market_cap=100, exclude_st=True, include_non_main_board=False, include_main_board=True, include_kcb_cyb=True, include_bjs=False)
    
    # èµšé’±æ•ˆåº”åˆ†æ
    @staticmethod
    def _calculate_change_distribution(market_df, change_col)
    @staticmethod
    def get_money_effect_analysis(date_str, analysis_type='all', market_states=None, exclude_st=True, include_non_main_board=False)
    @staticmethod
    def _analyze_all_stocks_money_effect(target_date, market_states, exclude_st=True, include_non_main_board=False)
    @staticmethod
    def _analyze_strong_stocks_money_effect(target_date, market_states, exclude_st=True, include_non_main_board=False)
    @staticmethod
    def _calculate_money_effect_stats(stocks_data)
```

### ğŸ“„ visualizer_manager.py - å¯è§†åŒ–ç®¡ç†å™¨ (20ä¸ªé™æ€æ–¹æ³•)
```python
class VisualizerManager:
    """å¯è§†åŒ–ç®¡ç†å™¨ï¼Œæä¾›ç»Ÿä¸€çš„å¯è§†åŒ–æ¥å£"""
    
    # æ¿å—å¯è§†åŒ–
    @staticmethod
    def plot_sector_kline(data_fetcher, date_str, days_range=30, index_name=None)
    @staticmethod
    def plot_single_sector_kline(data_fetcher, sector_name, overlay_index=None, days_range=30)
    @staticmethod
    def get_top_volume_sectors(data, top_n=10, days=5)
    
    # è‚¡ç¥¨å¯è§†åŒ–
    @staticmethod
    def plot_stock_kline(stock_data, stock_name=None, stock_code=None, height="600px")
    @staticmethod
    def plot_stock_turnover(stock_data, stock_name=None, stock_code=None, height="400px")
    @staticmethod
    def calculate_stock_ma_lines(stock_data, periods=[5, 10, 20])
    @staticmethod
    def plot_stock_comparison(stock_data_dict, normalize=False, height="800px")
    @staticmethod
    def plot_new_high_stock_kline(stock_data, stock_code, height="600px")
    @staticmethod
    def _calculate_ma(data, window_size)
    
    # æŒ‡æ•°å¯è§†åŒ–
    @staticmethod
    def plot_index_kline(index_data, title=None, height="600px")
    @staticmethod
    def plot_multi_index_kline(index_data_dict, height="800px")
    @staticmethod
    def calculate_index_ma_lines(index_data, periods=[5, 10, 20])
    @staticmethod
    def plot_index_comparison(index_data_dict, normalize=True, height="800px")
    @staticmethod
    def get_multi_index_kline_options(index_data_dict)
    
    # å¸‚åœºå¯è§†åŒ–
    @staticmethod
    def plot_market_metadata(market_states, market_metadata)
    @staticmethod
    def plot_market_change_distribution(distribution_data)
    
    # é€šç”¨å·¥å…·
    @staticmethod
    def extract_chart_content(html_content)
    @staticmethod
    def validate_data(data, required_columns)
    @staticmethod
    def format_volume_unit(value)
    
    # æ¨¡å‹å¯è§†åŒ–
    @staticmethod
    def plot_model_one_stocks(model_one_stocks)
```

## ğŸ—„ï¸ æ•°æ®ç®¡ç†å™¨ (utils/metadata/)

### ğŸ“„ stock_data_manager.py - è‚¡ç¥¨å…ƒæ•°æ®ç®¡ç†å™¨
```python
class StockMetadataManager:
    """è‚¡ç¥¨å…ƒæ•°æ®ç®¡ç†ç±»ï¼Œä¸»æ¿ä½¿ç”¨baostock,åŒ—äº¤æ‰€ä½¿ç”¨ak.stock_zh_a_histæ¥å£"""

    def __init__(metadata_path=None)                     # åˆå§‹åŒ–ç®¡ç†å™¨
    def load_metadata()                                  # åŠ è½½è‚¡ç¥¨å…ƒæ•°æ®
    def is_latest_trading_day()                         # æ£€æŸ¥æ˜¯å¦æœ€æ–°äº¤æ˜“æ—¥
    def update_metadata(start_date=None, end_date=None, progress_callback=None)  # æ›´æ–°å…ƒæ•°æ®

# å·¥å…·å‡½æ•°
def safe_network_request(func, *args, max_retries=3, timeout_seconds=30, **kwargs)
def safe_write_parquet(df, file_path, max_retries=3)
```

### ğŸ“„ index_data_manager.py - æŒ‡æ•°å…ƒæ•°æ®ç®¡ç†å™¨
```python
class IndexMetadataManager:
    """æŒ‡æ•°å…ƒæ•°æ®ç®¡ç†ç±»ï¼ŒåŸºäºak.index_zh_a_histæ¥å£"""

    def __init__(metadata_path=None)                     # åˆå§‹åŒ–ç®¡ç†å™¨
    def load_metadata()                                  # åŠ è½½æŒ‡æ•°å…ƒæ•°æ®
    def is_latest_trading_day()                         # æ£€æŸ¥æ˜¯å¦æœ€æ–°äº¤æ˜“æ—¥
    def update_metadata(start_date=None, end_date=None, progress_callback=None)  # æ›´æ–°å…ƒæ•°æ®
    def get_index_data(code, start_date=None, end_date=None)  # è·å–æŒ‡æ•°æ•°æ®
    def _calculate_index_ma(df)                         # è®¡ç®—æŒ‡æ•°ç§»åŠ¨å¹³å‡çº¿
```

### ğŸ“„ market_data_manager.py - å¸‚åœºå…ƒæ•°æ®ç®¡ç†å™¨
```python
class MarketMetadataManager:
    """å¸‚åœºå…ƒæ•°æ®ç®¡ç†ç±»"""

    def __init__(metadata_path=None)                     # åˆå§‹åŒ–ç®¡ç†å™¨
    def load_metadata()                                  # åŠ è½½å¸‚åœºå…ƒæ•°æ®
    def load_market_states()                            # åŠ è½½å¸‚åœºçŠ¶æ€æ•°æ®
    def is_latest_trading_day()                         # æ£€æŸ¥æ˜¯å¦æœ€æ–°äº¤æ˜“æ—¥
    def update_metadata(progress_callback=None)          # æ›´æ–°å¸‚åœºå…ƒæ•°æ®
    def update_market_states_incremental()              # å¢é‡æ›´æ–°å¸‚åœºçŠ¶æ€
```

### ğŸ“„ sector_data_manager.py - æ¿å—æ•°æ®ç®¡ç†å™¨ (é‡æ„ä¼˜åŒ–)
```python
class SectorDataManager:
    """æ¿å—æ•°æ®ç®¡ç†ç±» - æ”¯æŒåŒèŠ±é¡ºå’Œä¸œè´¢åŒæ•°æ®æº"""

    def __init__(preferred_source="ths", metadata_path=None)  # åˆå§‹åŒ–ç®¡ç†å™¨ï¼Œæ”¯æŒæ•°æ®æºé€‰æ‹©
    def load_sector_data(days_back=30, include_sectors=True, include_concepts=True)  # åŠ è½½æ¿å—æ•°æ®
    def get_sector_constituents(sector_name)            # è·å–æ¿å—æˆåˆ†è‚¡
    def get_sector_names(sector_type='both')            # ç»Ÿä¸€è·å–æ¿å—åç§°
    def is_latest_trading_day()                         # æ£€æŸ¥æ˜¯å¦æœ€æ–°äº¤æ˜“æ—¥
    def update_sector_data(source="ths")                # æ›´æ–°æ¿å—æ•°æ®
    def _calculate_technical_indicators(df)             # è®¡ç®—æŠ€æœ¯æŒ‡æ ‡(MA5/MA10/MA20ç­‰)

class ThsDataProvider:
    """åŒèŠ±é¡ºæ•°æ®æä¾›å™¨ - ä¸“é—¨å¤„ç†åŒèŠ±é¡ºæ•°æ®æº"""

    def __init__()                                      # åˆå§‹åŒ–åŒèŠ±é¡ºæä¾›å™¨
    def test_connection()                               # æµ‹è¯•åŒèŠ±é¡ºè¿æ¥(é—®è´¢åº“)
    def get_sector_constituents(code, name, sector_type) # è·å–æ¿å—æˆåˆ†è‚¡(é—®è´¢åº“)
    def update_sector_data(start_date, end_date, sector_dir) # æ›´æ–°æ¿å—æ•°æ®
    def update_all_sectors(sector_dir)                  # æ›´æ–°æ‰€æœ‰æˆåˆ†è‚¡æ•°æ®
    def _update_industries(start_date, end_date, sector_dir) # æ›´æ–°è¡Œä¸šæ•°æ®(å†…è”AKæ¥å£)
    def _update_concepts(start_date, end_date, sector_dir)   # æ›´æ–°æ¦‚å¿µæ•°æ®(å†…è”AKæ¥å£)

class EastmoneyDataProvider:
    """ä¸œæ–¹è´¢å¯Œæ•°æ®æä¾›å™¨ - ä¸“é—¨å¤„ç†ä¸œè´¢æ•°æ®æº"""

    def __init__()                                      # åˆå§‹åŒ–ä¸œè´¢æä¾›å™¨
    def test_connection()                               # æµ‹è¯•ä¸œè´¢è¿æ¥
    def get_concept_hist_data(concept_name, start_date, end_date) # è·å–æ¦‚å¿µå†å²æ•°æ®(å†…è”AKæ¥å£)
    def get_industry_hist_data(symbol, start_date, end_date)      # è·å–è¡Œä¸šå†å²æ•°æ®(å†…è”AKæ¥å£)
    def get_concept_constituents(symbol)                # è·å–æ¦‚å¿µæˆåˆ†è‚¡
    def get_industry_constituents(symbol)               # è·å–è¡Œä¸šæˆåˆ†è‚¡
    def update_sector_data(start_date, end_date, sector_dir)      # æ›´æ–°æ¿å—æ•°æ®(å†…è”æ¿å—åç§°è·å–)
    def update_all_constituents(sector_dir)             # æ›´æ–°æ‰€æœ‰æˆåˆ†è‚¡æ•°æ®(å†…è”æ¿å—åç§°è·å–)
```

## ğŸ¨ å¯è§†åŒ–ç»„ä»¶ (utils/visualizers/)

### ğŸ“„ common.py - é€šç”¨å¯è§†åŒ–ç»„ä»¶
```python
class ChartConfig:
    """å›¾è¡¨é…ç½®ç±»ï¼Œæä¾›é€šç”¨çš„å›¾è¡¨é…ç½®å’Œå·¥å…·å‡½æ•°"""

    # é¢œè‰²é…ç½®å¸¸é‡
    COLORS = [...]                                      # 30ç§é¢œè‰²é…ç½®
    UP_COLOR = "#FF4444"                               # ä¸Šæ¶¨çº¢è‰²
    DOWN_COLOR = "#00AA00"                             # ä¸‹è·Œç»¿è‰²

    # é…ç½®æ–¹æ³•
    @staticmethod
    def get_common_title_opts(title, subtitle=None)
    @staticmethod
    def get_common_legend_opts(position="top")
    @staticmethod
    def get_common_datazoom_opts()
    @staticmethod
    def get_common_toolbox_opts()
    @staticmethod
    def get_common_tooltip_opts()
    @staticmethod
    def get_common_grid_opts()

class ChartUtils:
    """å›¾è¡¨å·¥å…·ç±»ï¼Œæä¾›æ•°æ®å¤„ç†å’Œæ ¼å¼åŒ–åŠŸèƒ½"""

    @staticmethod
    def format_large_number(value, precision=2)
    @staticmethod
    def get_color_by_change(change_value)
    @staticmethod
    def calculate_cumulative_kline_data(data, change_col='æ¶¨è·Œå¹…', amplitude_col='æŒ¯å¹…')
    @staticmethod
    def calculate_moving_averages(data, periods=[5, 10, 20])
    @staticmethod
    def safe_divide(numerator, denominator, default=0)

class UniversalKlineChart:
    """é€šç”¨Kçº¿å›¾ç»˜åˆ¶å™¨"""

    @staticmethod
    def plot_kline_with_volume(data, title=None, height="600px", volume_column=None, amount_column=None)

class ChartFormatters:
    """å›¾è¡¨æ ¼å¼åŒ–å™¨ç±»ï¼Œæä¾›å„ç§æ•°æ®æ ¼å¼åŒ–å‡½æ•°"""

    @staticmethod
    def format_tooltip_content(params, data_type='stock')
    @staticmethod
    def format_axis_label(value, axis_type='value')
    @staticmethod
    def format_legend_text(name, data_summary=None)
```

### ğŸ“„ stock_visualizer.py - è‚¡ç¥¨å¯è§†åŒ–
```python
class StockVisualizer:
    """è‚¡ç¥¨ç›¸å…³å›¾è¡¨ç”Ÿæˆ"""

    @staticmethod
    def plot_stock_kline(stock_data, stock_name=None, stock_code=None, height="600px")
    @staticmethod
    def plot_stock_turnover(stock_data, stock_name=None, stock_code=None, height="400px")
    @staticmethod
    def plot_stock_comparison(stock_data_dict, normalize=False, height="800px")
    @staticmethod
    def calculate_ma_lines(stock_data, periods=[5, 10, 20])
    @staticmethod
    def plot_new_high_stock_kline(stock_data, stock_code, height="600px")
```

### ğŸ“„ index_visualizer.py - æŒ‡æ•°å¯è§†åŒ–
```python
class IndexVisualizer:
    """æŒ‡æ•°ç›¸å…³å›¾è¡¨ç”Ÿæˆ"""

    @staticmethod
    def plot_index_kline(index_data, title=None, height="600px")
    @staticmethod
    def plot_multi_index_kline(index_data_dict, height="800px")
    @staticmethod
    def plot_index_comparison(index_data_dict, normalize=True, height="800px")
    @staticmethod
    def get_multi_index_kline_options(index_data_dict)
    @staticmethod
    def calculate_ma_lines(index_data, periods=[5, 10, 20])
```

### ğŸ“„ sector_visualizer.py - æ¿å—å¯è§†åŒ–
```python
class SectorVisualizer:
    """æ¿å—ç›¸å…³å›¾è¡¨ç”Ÿæˆ"""

    @staticmethod
    def plot_sector_kline(data_fetcher, date_str, days_range=30, index_name=None)
    @staticmethod
    def plot_single_sector_kline(data_fetcher, sector_name, overlay_index=None, days_range=30)
    @staticmethod
    def get_top_volume_sectors(data, top_n=10, days=5)
```

### ğŸ“„ market_visualizer.py - å¸‚åœºå¯è§†åŒ–
```python
class MarketVisualizer:
    """å¸‚åœºæƒ…ç»ªå’Œå…ƒæ•°æ®å›¾è¡¨ç”Ÿæˆ"""

    @staticmethod
    def plot_market_metadata(market_states, market_metadata)
    @staticmethod
    def plot_market_change_distribution(distribution_data)
    @staticmethod
    def plot_continuous_limit_ladder_combined(market_states, target_date, days_back=30)
    @staticmethod
    def plot_continuous_limit_ladder_line(market_states, target_date, days_back=30)
    @staticmethod
    def plot_continuous_limit_ladder_stack(market_states, target_date, days_back=30)
    @staticmethod
    def plot_change_distribution(market_states, target_date)
```

### ğŸ“„ model_visualizer.py - æ¨¡å‹å¯è§†åŒ–
```python
class ModelVisualizer:
    """æ¨¡å‹ç›¸å…³å›¾è¡¨ç”Ÿæˆ"""

    @staticmethod
    def plot_model_one_stocks(model_one_stocks)
```

## ğŸŒ Flaskåç«¯API (flask_app.py) - 33ä¸ªAPIç«¯ç‚¹

### ğŸ  åŸºç¡€è·¯ç”±
```python
@app.route('/')                                         # é¦–é¡µ
def index()

@app.route('/api/test', methods=['GET'])                # æµ‹è¯•ç«¯ç‚¹
def test_endpoint()

@app.route('/api/system/status')                        # ç³»ç»ŸçŠ¶æ€
def system_status()
```

### ğŸ“Š å¸‚åœºæ•°æ®API
```python
@app.route('/api/market/overview')                      # å¸‚åœºæ¦‚è§ˆ
def market_overview()

@app.route('/api/market/sentiment')                     # å¸‚åœºæƒ…ç»ª
def market_sentiment()

@app.route('/api/market/change-distribution')           # æ¶¨è·Œåˆ†å¸ƒ
def market_change_distribution()

@app.route('/api/market/metadata')                      # å¸‚åœºå…ƒæ•°æ®
def market_metadata()

@app.route('/api/market/sentiment/charts')              # å¸‚åœºæƒ…ç»ªå›¾è¡¨
def market_sentiment_charts()

@app.route('/api/market/latest-date', methods=['GET'])  # æœ€æ–°äº¤æ˜“æ—¥æœŸ
def get_latest_market_date()

@app.route('/api/market/metadata/export')               # å¯¼å‡ºå¸‚åœºå…ƒæ•°æ®
def export_market_metadata()

@app.route('/api/market/latest')                        # æœ€æ–°å¸‚åœºæ•°æ®
def get_latest_market_data()
```

### ğŸ¢ æ¿å—ç›¸å…³API
```python
@app.route('/api/market/sectors')                       # æ¿å—æ•°æ®æ‘˜è¦
def market_sectors()

@app.route('/api/market/sectors/kline')                 # æ¿å—Kçº¿å›¾
def market_sectors_kline()

@app.route('/api/market/sectors/custom-period')         # è‡ªå®šä¹‰æœŸé—´æ¿å—æ•°æ®
def market_sectors_custom_period()

@app.route('/api/sectors', methods=['GET'])              # âœ… ç»Ÿä¸€æ¿å—æ•°æ®API
def get_sectors()                                       # æ”¯æŒè¡Œä¸šã€æ¦‚å¿µæˆ–ä¸¤è€…ï¼Œå‚æ•°typeæ§åˆ¶

@app.route('/api/sectors/<sector_name>/kline')          # å•ä¸ªæ¿å—Kçº¿å›¾
def get_sector_kline(sector_name)

@app.route('/api/sectors/<sector_name>/stocks')         # æ¿å—æˆåˆ†è‚¡
def get_sector_stocks(sector_name)
```

### ğŸ“ˆ è‚¡ç¥¨ç›¸å…³API
```python
@app.route('/api/stocks/new-high', methods=['GET', 'POST'])  # æ–°é«˜è‚¡åˆ†æ
def new_high_stocks()

@app.route('/api/stocks/kline', methods=['GET', 'POST'])     # âœ… ç»Ÿä¸€è‚¡ç¥¨Kçº¿API
def get_stocks_kline()                                       # æ”¯æŒå•ä¸ª/å¤šä¸ªè‚¡ç¥¨ï¼Œå¤šç§æ ¼å¼

@app.route('/api/stocks/search')                        # è‚¡ç¥¨æœç´¢
def search_stocks()

@app.route('/api/stocks/comparison', methods=['POST'])  # è‚¡ç¥¨å¯¹æ¯”
def get_stock_comparison()

@app.route('/api/stock-groups', methods=['GET'])        # è·å–è‚¡ç¥¨åˆ†ç»„
def get_stock_groups()

@app.route('/api/stock-groups', methods=['POST'])       # ä¿å­˜è‚¡ç¥¨åˆ†ç»„
def save_stock_group()

@app.route('/api/stock-groups/<int:group_id>', methods=['DELETE'])  # åˆ é™¤è‚¡ç¥¨åˆ†ç»„
def delete_stock_group(group_id)
```

### ğŸ“Š æŒ‡æ•°ç›¸å…³API
```python
@app.route('/api/market/indices')                       # å¸‚åœºæŒ‡æ•°
def get_market_indices()

@app.route('/api/indices/analysis', methods=['GET'])    # æŒ‡æ•°åˆ†æ
def get_index_analysis()

@app.route('/api/indices/kline', methods=['GET', 'POST'])    # âœ… ç»Ÿä¸€æŒ‡æ•°Kçº¿API
def get_indices_kline()                                      # æ”¯æŒå•ä¸ª/å¤šä¸ªæŒ‡æ•°ï¼Œå¤šç§æ ¼å¼

@app.route('/api/indices/available', methods=['GET'])   # å¯ç”¨æŒ‡æ•°åˆ—è¡¨
def get_available_indices()
```

### ğŸ¯ åˆ†æç›¸å…³API
```python
@app.route('/api/analysis/baima/intervals', methods=['GET'])  # ç™½é©¬è‚¡é¢„è®¾åŒºé—´
def get_baima_preset_intervals()

@app.route('/api/analysis/heima')                       # é»‘é©¬è‚¡åˆ†æ
def heima_analysis()

@app.route('/api/analysis/baima', methods=['POST'])     # ç™½é©¬è‚¡åˆ†æ
def baima_analysis()

@app.route('/api/money-effect')                         # èµšé’±æ•ˆåº”åˆ†æ
def get_money_effect()
```

### ğŸ—“ï¸ èŠ‚å‡æ—¥ç›¸å…³API
```python
@app.route('/api/holidays/non-trading-days', methods=['GET'])  # éäº¤æ˜“æ—¥
def get_non_trading_days()

@app.route('/api/holidays/check-date', methods=['GET'])  # æ£€æŸ¥æ—¥æœŸäº¤æ˜“çŠ¶æ€
def check_date_trading_status()

@app.route('/api/holidays/range', methods=['GET'])       # æ—¥æœŸèŒƒå›´éäº¤æ˜“æ—¥
def get_non_trading_days_range()
```

## ğŸ–¥ï¸ å‰ç«¯åº”ç”¨ (frontend/)

### ğŸ“¦ æŠ€æœ¯æ ˆå’Œä¾èµ–
```json
{
  "ä¸»è¦æ¡†æ¶": {
    "vue": "^3.3.0",
    "vue-router": "^4.2.0"
  },
  "UIç»„ä»¶åº“": {
    "element-plus": "^2.3.0"
  },
  "å›¾è¡¨åº“": {
    "echarts": "^5.4.0",
    "vue-echarts": "^6.6.0"
  },
  "HTTPå®¢æˆ·ç«¯": {
    "axios": "^1.4.0"
  }
}
```

### ğŸ—‚ï¸ é¡¹ç›®ç»“æ„
```
frontend/src/
â”œâ”€â”€ ğŸ“„ main.js                     # åº”ç”¨å…¥å£æ–‡ä»¶
â”œâ”€â”€ ğŸ“„ App.vue                     # æ ¹ç»„ä»¶
â”œâ”€â”€ ğŸ“ router/                     # è·¯ç”±é…ç½®
â”‚   â””â”€â”€ ğŸ“„ index.js                # è·¯ç”±å®šä¹‰ (8ä¸ªè·¯ç”±)
â”œâ”€â”€ ğŸ“ services/                   # æœåŠ¡å±‚
â”‚   â””â”€â”€ ğŸ“„ api.js                  # APIæœåŠ¡ç±» (25ä¸ªæ–¹æ³•)
â”œâ”€â”€ ğŸ“ components/                 # é€šç”¨ç»„ä»¶
â”‚   â”œâ”€â”€ ğŸ“„ EChartsRenderer.vue     # å›¾è¡¨æ¸²æŸ“ç»„ä»¶
â”‚   â””â”€â”€ ğŸ“„ TradingDatePicker.vue   # äº¤æ˜“æ—¥æœŸé€‰æ‹©å™¨
â””â”€â”€ ğŸ“ views/                      # é¡µé¢ç»„ä»¶ (11ä¸ªé¡µé¢)
    â”œâ”€â”€ ğŸ“„ MarketSentiment.vue     # å¸‚åœºæƒ…ç»ªåˆ†æ
    â”œâ”€â”€ ğŸ“„ SectorAnalysis.vue      # æ¿å—åˆ†æ
    â”œâ”€â”€ ğŸ“„ IndexAnalysis.vue       # æŒ‡æ•°åˆ†æ
    â”œâ”€â”€ ğŸ“„ NewHighStocks.vue       # æ–°é«˜è‚¡ç¥¨
    â”œâ”€â”€ ğŸ“„ HeimaAnalysis.vue       # é»‘é©¬åˆ†æ
    â”œâ”€â”€ ğŸ“„ BaimaAnalysis.vue       # ç™½é©¬åˆ†æ
    â”œâ”€â”€ ğŸ“„ MoneyEffect.vue         # èµšé’±æ•ˆåº”
    â”œâ”€â”€ ğŸ“„ ChartTest.vue           # å›¾è¡¨æµ‹è¯•
    â”œâ”€â”€ ğŸ“„ TestChart.vue           # æµ‹è¯•å›¾è¡¨
    â”œâ”€â”€ ğŸ“„ SimpleChartTest.vue     # ç®€å•å›¾è¡¨æµ‹è¯•
    â””â”€â”€ ğŸ“„ TestTradingDatePicker.vue # äº¤æ˜“æ—¥æœŸé€‰æ‹©å™¨æµ‹è¯•
```

### ğŸ›£ï¸ è·¯ç”±é…ç½® (router/index.js)
```javascript
const routes = [
  // åŸºç¡€è·¯ç”±
  { path: '/', redirect: '/index-analysis' }

  // ä¸»è¦åŠŸèƒ½é¡µé¢
  { path: '/sentiment', component: MarketSentiment }      # å¸‚åœºæƒ…ç»ª
  { path: '/sectors', component: SectorAnalysis }        # æ¿å—åˆ†æ
  { path: '/index-analysis', component: IndexAnalysis }  # æŒ‡æ•°åˆ†æ

  // å¼ºåŠ¿è‚¡åˆ†ææ¨¡å— (åˆ†ç»„è·¯ç”±)
  { path: '/strong-stocks', redirect: '/strong-stocks/new-high' }
  { path: '/strong-stocks/new-high', component: NewHighStocks }    # æ–°é«˜è‚¡ç¥¨
  { path: '/strong-stocks/heima', component: HeimaAnalysis }       # é»‘é©¬åˆ†æ
  { path: '/strong-stocks/baima', component: BaimaAnalysis }       # ç™½é©¬åˆ†æ
  { path: '/strong-stocks/money-effect', component: MoneyEffect }  # èµšé’±æ•ˆåº”

  // æµ‹è¯•é¡µé¢
  { path: '/test-chart', component: TestChart }          # æµ‹è¯•å›¾è¡¨
  { path: '/chart-test', component: ChartTest }          # å›¾è¡¨æµ‹è¯•
  { path: '/simple-chart-test', component: SimpleChartTest } # ç®€å•å›¾è¡¨æµ‹è¯•
  { path: '/test-trading-date-picker', component: TestTradingDatePicker } # äº¤æ˜“æ—¥æœŸé€‰æ‹©å™¨æµ‹è¯•
]
```

### ğŸ”Œ APIæœåŠ¡ç±» (services/api.js)
```javascript
class ApiService {
  // å¸‚åœºæ•°æ®API (8ä¸ªæ–¹æ³•)
  static async getMarketOverview()                        # å¸‚åœºæ¦‚è§ˆ
  static async getMarketSentiment(date)                   # å¸‚åœºæƒ…ç»ª
  static async getLatestMarketDate()                      # æœ€æ–°äº¤æ˜“æ—¥æœŸ
  static async getMarketMetadata(daysBack)                # å¸‚åœºå…ƒæ•°æ®
  static async getMarketSentimentCharts(date, daysBack)   # å¸‚åœºæƒ…ç»ªå›¾è¡¨
  static async getIndexData(date, days)                   # æŒ‡æ•°æ•°æ®

  // è‚¡ç¥¨ç›¸å…³API (4ä¸ªæ–¹æ³•)
  static async getNewHighStocks(date, period, filters)    # æ–°é«˜è‚¡åˆ†æ
  static async getStockKline(stockCode, days, date)       # è‚¡ç¥¨Kçº¿æ•°æ®
  static async searchStocks(query)                        # è‚¡ç¥¨æœç´¢
  static async getStockComparison(params)                 # è‚¡ç¥¨å¯¹æ¯”

  // åˆ†æç›¸å…³API (3ä¸ªæ–¹æ³•)
  static async getHeimaAnalysis(date, filters)            # é»‘é©¬è‚¡åˆ†æ
  static async getBaimaAnalysis(startDate, endDate, filters)  # ç™½é©¬è‚¡åˆ†æ
  static async postBaimaAnalysis(requestData)             # ç™½é©¬è‚¡åˆ†æ(POST)

  // æ¿å—ç›¸å…³API (6ä¸ªæ–¹æ³•)
  static async getSectorData(date, filters)               # æ¿å—æ•°æ®
  static async getSectorKline(params)                     # æ¿å—Kçº¿å›¾
  static async getSectorCustomPeriod(params)              # è‡ªå®šä¹‰æœŸé—´æ¿å—æ•°æ®
  static async getSectorStocks(sectorName)                # æ¿å—æˆåˆ†è‚¡
  static async getSingleSectorKline(sectorName, params)   # å•ä¸ªæ¿å—Kçº¿å›¾
  static async getMultiIndexKline(params)                 # å¤šæŒ‡æ•°Kçº¿å›¾
}
```

## ğŸ¨ é¢œè‰²å’Œæ ·å¼è§„èŒƒ

### ğŸ“Š å›¾è¡¨é¢œè‰²æ ‡å‡† (ä¸­å›½è‚¡å¸‚æƒ¯ä¾‹)
```python
# Kçº¿å›¾é¢œè‰²
UP_COLOR = "#FF4444"      # çº¢è‰² - ä¸Šæ¶¨
DOWN_COLOR = "#00AA00"    # ç»¿è‰² - ä¸‹è·Œ

# MAå‡çº¿é¢œè‰² (åœ¨ChartConfigä¸­å®šä¹‰)
MA5_COLOR = "#4ECDC4"     # é’è‰² - MA5
MA10_COLOR = "#FFBF00"    # é»„è‰² - MA10
MA20_COLOR = "#F92672"    # çº¢è‰² - MA20

### ğŸ“± é¡µé¢ç»„ä»¶ (views/)

#### ğŸ“„ MarketSentiment.vue - å¸‚åœºæƒ…ç»ªåˆ†æ
```javascript
export default {
  name: 'MarketSentiment',
  setup() {
    // å“åº”å¼æ•°æ®
    const selectedDate = ref('')                         # é€‰æ‹©çš„æ—¥æœŸ
    const daysBack = ref(30)                            # åˆ†æå‘¨æœŸ
    const loading = ref(false)                          # åŠ è½½çŠ¶æ€
    const sentimentData = ref({})                       # å¸‚åœºæƒ…ç»ªæ•°æ®
    const chartData = ref({})                           # å›¾è¡¨æ•°æ®

    // ä¸»è¦æ–¹æ³•
    const loadData = async () => {                      # åŠ è½½æ•°æ®
      // è°ƒç”¨APIè·å–å¸‚åœºæƒ…ç»ªæ•°æ®
      // è°ƒç”¨APIè·å–å›¾è¡¨æ•°æ®
    }

    const refreshCharts = async () => {                 # åˆ·æ–°å›¾è¡¨
      // é‡æ–°åŠ è½½æ‰€æœ‰å›¾è¡¨
    }

    // å·¥å…·æ–¹æ³•
    const formatPercentage = (value) => {}              # æ ¼å¼åŒ–ç™¾åˆ†æ¯”
    const formatChange = (value, suffix) => {}          # æ ¼å¼åŒ–å˜åŒ–å€¼
    const getChangeClass = (change) => {}               # è·å–å˜åŒ–æ ·å¼ç±»
    const getTrendClass = (value, threshold) => {}      # è·å–è¶‹åŠ¿æ ·å¼ç±»
    const disabledDate = (date) => {}                   # ç¦ç”¨æ—¥æœŸåˆ¤æ–­
  }
}
```

## ğŸ”„ æ•°æ®æµå‘ (é‡æ„åæ¶æ„)

### ğŸ“Š ä¸»è¦æ•°æ®æµ
```
æ•°æ®æºå±‚
â”œâ”€â”€ AKShare (è‚¡ç¥¨ã€æŒ‡æ•°ã€æ¿å—æ•°æ®)
â”œâ”€â”€ BaoStock (ä¸»æ¿è‚¡ç¥¨å†å²æ•°æ®)
â”œâ”€â”€ é—®è´¢åº“ (æ¿å—æˆåˆ†è‚¡æ•°æ®)
â””â”€â”€ åŒ—äº¤æ‰€API (åŒ—äº¤æ‰€è‚¡ç¥¨æ•°æ®)
    â†“
æ•°æ®æä¾›å™¨å±‚ (æ–°å¢)
â”œâ”€â”€ ThsDataProvider (åŒèŠ±é¡ºæ•°æ®æº)
â”œâ”€â”€ EastmoneyDataProvider (ä¸œè´¢æ•°æ®æº)
â”œâ”€â”€ StockMetadataManager (è‚¡ç¥¨å…ƒæ•°æ®)
â”œâ”€â”€ IndexMetadataManager (æŒ‡æ•°å…ƒæ•°æ®)
â””â”€â”€ MarketMetadataManager (å¸‚åœºå…ƒæ•°æ®)
    â†“
æ•°æ®ç®¡ç†å±‚
â”œâ”€â”€ SectorDataManager (æ¿å—æ•°æ®ç®¡ç†)
â””â”€â”€ DataFetcher (ç»Ÿä¸€æ•°æ®è·å–)
    â†“
åˆ†æå¤„ç†å±‚
â”œâ”€â”€ MarketAnalyzer (å¸‚åœºåˆ†æ)
â””â”€â”€ VisualizerManager (å¯è§†åŒ–ç®¡ç†)
    â†“
APIæœåŠ¡å±‚
â””â”€â”€ Flask API (33ä¸ªç«¯ç‚¹)
    â†“
å‰ç«¯å±•ç¤ºå±‚
â””â”€â”€ Vue.js (11ä¸ªé¡µé¢ç»„ä»¶)
```

## ğŸ“Š ç»Ÿè®¡ä¿¡æ¯ (2025-01-27æ›´æ–°)

### ğŸ”¢ ä»£ç è§„æ¨¡ç»Ÿè®¡
- **æ€»æ–‡ä»¶æ•°**: 35ä¸ªæ ¸å¿ƒæ–‡ä»¶ (æ–°å¢10ä¸ªæµ‹è¯•æ–‡ä»¶)
- **æ ¸å¿ƒç±»æ•°**: 17ä¸ªä¸»è¦ç±» (æ–°å¢ThsDataProviderã€EastmoneyDataProvider)
- **APIç«¯ç‚¹æ•°**: 33ä¸ªFlask API (é‡æ„ä¼˜åŒ–ï¼Œå‡å°‘5ä¸ªå†—ä½™ç«¯ç‚¹)
- **é™æ€æ–¹æ³•æ•°**: 75ä¸ªä»¥ä¸Š (æ–°å¢æŠ€æœ¯æŒ‡æ ‡è®¡ç®—æ–¹æ³•)
- **å¯è§†åŒ–å™¨æ•°**: 6ä¸ªä¸“é—¨çš„å¯è§†åŒ–å™¨
- **æ•°æ®ç®¡ç†å™¨æ•°**: 4ä¸ªå…ƒæ•°æ®ç®¡ç†å™¨
- **å‰ç«¯é¡µé¢æ•°**: 11ä¸ªVueé¡µé¢ç»„ä»¶
- **æµ‹è¯•æ–‡ä»¶æ•°**: 25ä¸ªæµ‹è¯•æ–‡ä»¶

### ğŸ—ï¸ æ¶æ„ä¼˜åŒ–æˆæœ
- **ğŸ”§ é‡æ„ä¼˜åŒ–**: æ¿å—æ•°æ®ç®¡ç†å™¨å®Œå…¨é‡æ„ï¼Œä»£ç æ›´ç®€æ´é«˜æ•ˆ
- **ğŸ“Š æ•°æ®æºæ•´åˆ**: æ”¯æŒåŒèŠ±é¡º+ä¸œè´¢åŒæ•°æ®æºï¼Œæ•°æ®æ›´å…¨é¢
- **âš¡ æ€§èƒ½æå‡**: å†…è”APIè°ƒç”¨ï¼Œå‡å°‘æ–¹æ³•è°ƒç”¨å±‚çº§
- **ğŸ§¹ ä»£ç æ¸…ç†**: åˆ é™¤154è¡Œå†—ä½™ä»£ç ï¼Œæé«˜ç»´æŠ¤æ€§
- **ğŸ“ˆ æŠ€æœ¯æŒ‡æ ‡**: æ–°å¢MA5/MA10/MA20ç§»åŠ¨å¹³å‡çº¿è®¡ç®—
- **ğŸ”— APIä¼˜åŒ–**: ç»Ÿä¸€APIè®¾è®¡ï¼Œå‡å°‘é‡å¤ç«¯ç‚¹
- **ğŸ¨ å‰ç«¯ä¼˜åŒ–**: Vue.jsç°ä»£åŒ–ç•Œé¢ï¼Œå“åº”å¼è®¾è®¡

### ğŸ“‹ é‡æ„è¯¦æƒ…
- **åˆ é™¤æ–¹æ³•**: 8ä¸ªå†—ä½™æ–¹æ³• (get_concept_indicesã€get_industry_indicesç­‰)
- **åˆå¹¶åŠŸèƒ½**: 6ä¸ªæ–¹æ³•å†…è”åˆ°è°ƒç”¨å‡½æ•°ä¸­
- **æ–°å¢åŠŸèƒ½**: é—®è´¢åº“æˆåˆ†è‚¡è·å–ï¼ŒæŠ€æœ¯æŒ‡æ ‡è‡ªåŠ¨è®¡ç®—
- **æ•°æ®è´¨é‡**: å®Œæ•´çš„æ•°æ®éªŒè¯å’Œå»é‡æœºåˆ¶
- **å‰ç«¯æ¶æ„**: Vue 3 + Element Plusï¼Œç°ä»£åŒ–ç”¨æˆ·ä½“éªŒ

## ğŸš€ æœ€æ–°ä¼˜åŒ–æˆæœ (2025-01-27)

### âœ… å·²å®Œæˆçš„ä¼˜åŒ–
1. **APIæ•´åˆ**: æ–°å¢2ä¸ªç»Ÿä¸€APIï¼Œå‡å°‘å†—ä½™ç«¯ç‚¹
2. **æ ¼å¼åŒ–ä¼˜åŒ–**: ç§»é™¤åç«¯é‡å¤æ ¼å¼åŒ–ï¼Œç»Ÿä¸€å‰ç«¯å¤„ç†
3. **æ€§èƒ½æå‡**: ä½¿ç”¨å¸‚åœºçŠ¶æ€æ•°æ®ï¼Œå‡å°‘é‡å¤è®¡ç®—
4. **æˆäº¤é‡é¢œè‰²ä¿®å¤**: ä¿®å¤å¤šæŒ‡æ•°Kçº¿å›¾æˆäº¤é‡é¢œè‰²é€»è¾‘
5. **æ¿å—åˆ†æä¿®å¤**: ä¿®å¤å‰ç«¯æ•°æ®ç»“æ„è§£æé—®é¢˜
6. **å‰ç«¯æ¶æ„**: Vue.jsç°ä»£åŒ–ç•Œé¢ï¼Œå“åº”å¼è®¾è®¡
7. **æµ‹è¯•è¦†ç›–**: æ–°å¢25ä¸ªæµ‹è¯•æ–‡ä»¶ï¼Œæé«˜ä»£ç è´¨é‡

### ğŸ”„ æŠ€æœ¯å€ºåŠ¡æ¸…ç†
```python
# å·²ç§»é™¤çš„å†—ä½™ä»£ç 
DataFetcher._format_amount()      # ç§»é™¤ â†’ å‰ç«¯utils.formatAmount()
DataFetcher._format_volume()      # ç§»é™¤ â†’ å‰ç«¯utils.formatVolume()
DataFetcher._format_percentage()  # ç§»é™¤ â†’ å‰ç«¯utils.formatPercent()

# æ–°å¢çš„ç»Ÿä¸€API
/api/stocks/kline/unified         # æ•´åˆ3ä¸ªè‚¡ç¥¨Kçº¿API
/api/indices/kline/unified        # æ•´åˆ3ä¸ªæŒ‡æ•°Kçº¿API
```

### ğŸ“ˆ æ€§èƒ½æå‡æ•ˆæœ
- **æ•°æ®è·å–**: ä½¿ç”¨é¢„è®¡ç®—çš„å¸‚åœºçŠ¶æ€æ•°æ®ï¼ŒåŒ…å«MA5/MA10/MA20
- **APIå“åº”**: ç»Ÿä¸€APIå‡å°‘é‡å¤é€»è¾‘ï¼Œæé«˜å“åº”é€Ÿåº¦
- **å‰ç«¯æ¸²æŸ“**: æ ¼å¼åŒ–ç»Ÿä¸€åœ¨å‰ç«¯ï¼Œå‡å°‘ç½‘ç»œä¼ è¾“æ•°æ®é‡
- **ä»£ç ç»´æŠ¤**: å‡å°‘é‡å¤ä»£ç ï¼Œé™ä½ç»´æŠ¤æˆæœ¬
- **ç”¨æˆ·ä½“éªŒ**: Vue.jsç°ä»£åŒ–ç•Œé¢ï¼Œå“åº”å¼è®¾è®¡

---

**æ³¨æ„**: æœ¬æ¸…å•åŸºäºå®é™…ä»£ç ç”Ÿæˆï¼Œæ‰€æœ‰ç±»ã€æ–¹æ³•ã€APIç«¯ç‚¹éƒ½æ˜¯çœŸå®å­˜åœ¨çš„ã€‚åœ¨å¼€å‘æ–°åŠŸèƒ½æ—¶ï¼Œè¯·ä¸¥æ ¼å‚ç…§æ­¤æ¸…å•é¿å…é‡å¤é€ è½®å­ã€‚

**æ›´æ–°æ—¥å¿—**: 2025-11-02 - å®Œæˆå‰ç«¯æ¶æ„ä¼˜åŒ–ï¼Œæ–°å¢Vue.jsç°ä»£åŒ–ç•Œé¢ï¼Œå®Œå–„æµ‹è¯•è¦†ç›–ï¼Œæ›´æ–°é¡¹ç›®ç»“æ„ä¿¡æ¯ã€‚
